[
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "cave_underground_entrance" ],
    "object": {
      "fallback_predecessor_mapgen": "forest_thick",
      "rotation": [ 0, 3 ],
      "rows": [
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "          -   -         ",
        "       -  --  - -       ",
        "      -----------       ",
        "     ---##...##C---     ",
        "    --C####..###C-      ",
        "   ---##CCC..CC##---    ",
        "   ---#CC.....C.#---    ",
        "    -##C...>>..##--     ",
        "  ---C#C...>>..C#--     ",
        "   ---##C.....C##---    ",
        "   --###CC#.CCC##---    ",
        "  ----C#########C-      ",
        "    ----##C-##CC---     ",
        "     -------------      ",
        "     - -  --  - -       ",
        "       -   -            ",
        "                        ",
        "                        ",
        "                        ",
        "                        "
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN", "NO_UNDERLYING_ROTATE" ],
      "terrain": { " ": "t_null", ".": "t_dirt", "-": "t_grass", "#": "t_rock", ">": "t_slope_down", "C": "t_dirtmound" }
    }
  },
  {
    "//": "slopes up to river cave entrance to be used where appropriate",
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "cave_underground_up_to_surface",
    "object": {
      "mapgensize": [ 2, 2 ],
      "rows": [
        ">>",
        ">>"
      ],
      "terrain": { ">": "t_slope_up" },
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_straight",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 0 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 1 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 2 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 3 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 4 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 5 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 6 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 7 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 8 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 9 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 10 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 11 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 12 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 13 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 14 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 15 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 16 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 17 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 18 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 19 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 20 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 21 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 22 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 23 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_end",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 12 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 13 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 14 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 15 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 16 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 17 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 18 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 19 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 20 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 21 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 22 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 23 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_curved",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######                 ",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 7 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 8 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 9 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 10 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 11 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 12 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 13 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 14 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 15 },
        { "chunks": [ "cave_underground_bounds_h1" ], "x": [ 4, 6 ], "y": 16 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 17 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 18 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 19 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 20 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 21 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 22 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 23 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 7 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 8 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 9 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 10 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 11 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 12 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 13 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 14 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 15 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 16 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 17 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 18 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 19 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 20 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 21 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 22 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 23 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_tee",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "########################",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 17 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 18 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 19 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 20 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 21 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 22 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 23 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 0 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 1 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 2 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 3 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 4 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 5 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 6 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 7 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 8 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 9 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 10 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 11 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 12 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 13 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 14 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 15 },
        { "chunks": [ "cave_underground_bounds_v1" ], "y": [ 4, 6 ], "x": 16 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 17 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 18 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 19 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 20 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 21 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 22 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 23 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_four_way",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "#######          #######"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_up_to_surface" ], "joins": { "above": "tunnel_to_surface" }, "x": 11, "y": 11 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 0 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 1 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 2 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 3 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 4 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 5 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 6 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 17 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 18 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 19 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 20 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 21 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 22 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 23 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 0 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 1 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 2 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 3 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 4 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 5 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 6 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 17 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 18 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 19 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 20 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 21 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 22 },
        { "chunks": [ "cave_underground_bounds_v" ], "y": [ 4, 6 ], "x": 23 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_food",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "######           #######",
        "#######          #######",
        "######            ######",
        "######             #####",
        "#####               ####",
        "####               #####",
        "#####              #####",
        "####                ####",
        "####                ####",
        "###                  ###",
        "###                 ####",
        "####              ######",
        "#######            #####",
        "#########           ####",
        "########          ######",
        "#######           ######",
        "########           #####",
        "##########      ########",
        "############  ##########",
        "########################",
        "########################"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 0 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 1 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 2 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 3 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 4 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_nest",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "######           #######",
        "#######          #######",
        "######            ######",
        "######             #####",
        "#####               ####",
        "####               #####",
        "#####              #####",
        "####                ####",
        "####                ####",
        "###                  ###",
        "###                 ####",
        "####              ######",
        "#######            #####",
        "#########           ####",
        "########          ######",
        "#######           ######",
        "########           #####",
        "##########      ########",
        "############  ##########",
        "########################",
        "########################"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 0 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 1 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 2 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 3 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 4 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cave_underground_kraken",
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "#######          #######",
        "#######          #######",
        "#######          #######",
        "######           #######",
        "#######          #######",
        "######            ######",
        "######             #####",
        "#####               ####",
        "####               #####",
        "#####              #####",
        "####                ####",
        "####                ####",
        "###                  ###",
        "###                 ####",
        "####              ######",
        "#######            #####",
        "#########           ####",
        "########          ######",
        "#######           ######",
        "########           #####",
        "##########      ########",
        "############  ##########",
        "########################",
        "########################"
      ],
      "terrain": { "#": "t_rock" },
      "place_nested": [
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 0 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 1 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 2 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 3 },
        { "chunks": [ "cave_underground_bounds_h" ], "x": [ 4, 6 ], "y": 4 }
      ]
    }
  }
]
